<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Analyzing verb endings in the Japanese language &mdash; Frolian's blog</title>
  <meta name="author" content="Florian Le Bourdais">

  <link href="http://flothesof.github.io/atom.xml" type="application/atom+xml" rel="alternate"
        title="Frolian's blog Atom Feed" />





  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">


    <link href="http://flothesof.github.io/favicon.png" rel="icon">

  <link href="http://flothesof.github.io/theme/css/main.css" media="screen, projection"
        rel="stylesheet" type="text/css">

  <link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
  <link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
</head>

<body>
  <header role="banner"><hgroup>
  <h1><a href="http://flothesof.github.io/">Frolian's blog</a></h1>
    <h2>xkcd, Python, math and beyond</h2>
</hgroup></header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://flothesof.github.io/atom.xml" rel="subscribe-atom">Atom</a></li>
</ul>


<ul class="main-navigation">
    <li><a href="/archives.html">Archives</a></li>
    <li><a href="/pages/about-me.html">About me</a></li>
      <li class="active">
        <a href="http://flothesof.github.io/category/python.html">Python</a>
      </li>
</ul></nav>
  <div id="main">
    <div id="content">
<div>
  <article class="hentry" role="article">
<header>
      <h1 class="entry-title">Analyzing verb endings in the Japanese language</h1>
    <p class="meta">
<time datetime="2013-11-23T00:15:00+01:00" pubdate>Sat, 23 Nov 2013</time>    </p>
</header>

  <div class="entry-content"><p>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Goal-of-this-study">Goal of this study<a class="anchor-link" href="#Goal-of-this-study">&#182;</a></h1><p>According to Tae Kim's guide to Japanese grammar and <a href="http://www.guidetojapanese.org/learn/grammar/verbs">its introduction to Japanese verbs</a>, the following holds true:</p>
<blockquote><p>All ru-verbs end in 「る」 while u-verbs can end in a number of u-vowel sounds including 「る」. Therefore, if a verb does not end in 「る」, it will always be an u-verb. For verbs ending in 「る」, if the vowel sound preceding the 「る」 is an /a/, /u/ or /o/ vowel sound, it will always be an u-verb. Otherwise, if the preceding sound is an /i/ or /e/ vowel sound, it will be a ru-verb in most cases. A list of common exceptions are at the end of this section.</p>
</blockquote>
<p>In this exploration, we're going to check that this description and try to find the statistics (i.e. the percentages for the different categories).</p>
<h1 id="Sample-file-extraction">Sample file extraction<a class="anchor-link" href="#Sample-file-extraction">&#182;</a></h1><p>The first step in our study is to read the dictionary XML and browse it for verbs.</p>
<p>We're starting small, with a sample file that contains one word so that we can extract:</p>
<ul>
<li>the pronunciation in Hiragana</li>
<li>the grammatical function of the word</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="kn">import</span> <span class="nn">xml.etree.cElementTree</span> <span class="k">as</span> <span class="nn">ET</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">tree</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">ElementTree</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s">&#39;./JMdict_example.xml&#39;</span><span class="p">)</span>
<span class="n">tree</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[2]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>&lt;ElementTree at 0x3d630d0&gt;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">root</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span>
<span class="n">root</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[3]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>&lt;Element &apos;entry&apos; at 0x03DC45D8&gt;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">root</span><span class="p">:</span>
    <span class="nb">print</span> <span class="n">elem</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;Element &apos;ent_seq&apos; at 0x03DC4608&gt;
&lt;Element &apos;k_ele&apos; at 0x03DC4488&gt;
&lt;Element &apos;r_ele&apos; at 0x03DC4548&gt;
&lt;Element &apos;sense&apos; at 0x03DC4770&gt;
&lt;Element &apos;sense&apos; at 0x03DC4998&gt;
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>From the evaluation above, we see that an element of the XML structure contains a pronunciation that we can extract from the <em>r_ele/reb</em> tag:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="nb">print</span> <span class="n">root</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;r_ele/reb&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>うよく
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The grammatical function comes from the <em>sense/pos</em> tag. It should be noted that a word can have more than one grammatical function in Japanese. In the case below, the word uyoku can be an adjective-noun and a noun.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="nb">print</span> <span class="p">[</span><span class="n">elem</span><span class="o">.</span><span class="n">text</span> <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">&#39;sense/pos&#39;</span><span class="p">)]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>[&apos;adj-no;&apos;, &apos;n;&apos;]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can now define a function that acts as a shortcut for the two operations done above (pronunciation and grammatical function):</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">def</span> <span class="nf">extract_information</span><span class="p">(</span><span class="n">elem</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">elem</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;r_ele/reb&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">,</span>
            <span class="p">[</span><span class="n">sense</span><span class="o">.</span><span class="n">text</span> <span class="k">for</span> <span class="n">sense</span> <span class="ow">in</span> <span class="n">elem</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">&#39;sense/pos&#39;</span><span class="p">)])</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">extract_information</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[10]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>(u&apos;\u3046\u3088\u304f&apos;, [&apos;adj-no;&apos;, &apos;n;&apos;])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Where-are-the-verbs?">Where are the verbs?<a class="anchor-link" href="#Where-are-the-verbs?">&#182;</a></h1><p>If we take a look at the DTD of the JMdict XML file we find the following entities corresponding to verbs:</p>

</div>
</div>
</div><!ENTITY v1 "Ichidan verb">
<!ENTITY v2a-s "Nidan verb with 'u' ending (archaic)">
<!ENTITY v4h "Yodan verb with `hu/fu' ending (archaic)">
<!ENTITY v4r "Yodan verb with `ru' ending (archaic)">
<!ENTITY v5 "Godan verb (not completely classified)">
<!ENTITY v5aru "Godan verb - -aru special class">
<!ENTITY v5b "Godan verb with `bu' ending">
<!ENTITY v5g "Godan verb with `gu' ending">
<!ENTITY v5k "Godan verb with `ku' ending">
<!ENTITY v5k-s "Godan verb - Iku/Yuku special class">
<!ENTITY v5m "Godan verb with `mu' ending">
<!ENTITY v5n "Godan verb with `nu' ending">
<!ENTITY v5r "Godan verb with `ru' ending">
<!ENTITY v5r-i "Godan verb with `ru' ending (irregular verb)">
<!ENTITY v5s "Godan verb with `su' ending">
<!ENTITY v5t "Godan verb with `tsu' ending">
<!ENTITY v5u "Godan verb with `u' ending">
<!ENTITY v5u-s "Godan verb with `u' ending (special class)">
<!ENTITY v5uru "Godan verb - Uru old class verb (old form of Eru)">
<!ENTITY vz "Ichidan verb - zuru verb (alternative form of -jiru verbs)">
<!ENTITY vi "intransitive verb">
<!ENTITY vk "Kuru verb - special class">
<!ENTITY vn "irregular nu verb">
<!ENTITY vr "irregular ru verb, plain form ends with -ri">
<!ENTITY vs "noun or participle which takes the aux. verb suru">
<!ENTITY vs-c "su verb - precursor to the modern suru">
<!ENTITY vs-s "suru verb - special class">
<!ENTITY vs-i "suru verb - irregular">
<!ENTITY vt "transitive verb">
<!ENTITY v4k "Yodan verb with `ku' ending (archaic)">
<!ENTITY v4g "Yodan verb with `gu' ending (archaic)">
<!ENTITY v4s "Yodan verb with `su' ending (archaic)">
<!ENTITY v4t "Yodan verb with `tsu' ending (archaic)">
<!ENTITY v4n "Yodan verb with `nu' ending (archaic)">
<!ENTITY v4b "Yodan verb with `bu' ending (archaic)">
<!ENTITY v4m "Yodan verb with `mu' ending (archaic)">
<!ENTITY v2k-k "Nidan verb (upper class) with `ku' ending (archaic)">
<!ENTITY v2g-k "Nidan verb (upper class) with `gu' ending (archaic)">
<!ENTITY v2t-k "Nidan verb (upper class) with `tsu' ending (archaic)">
<!ENTITY v2d-k "Nidan verb (upper class) with `dzu' ending (archaic)">
<!ENTITY v2h-k "Nidan verb (upper class) with `hu/fu' ending (archaic)">
<!ENTITY v2b-k "Nidan verb (upper class) with `bu' ending (archaic)">
<!ENTITY v2m-k "Nidan verb (upper class) with `mu' ending (archaic)">
<!ENTITY v2y-k "Nidan verb (upper class) with `yu' ending (archaic)">
<!ENTITY v2r-k "Nidan verb (upper class) with `ru' ending (archaic)">
<!ENTITY v2k-s "Nidan verb (lower class) with `ku' ending (archaic)">
<!ENTITY v2g-s "Nidan verb (lower class) with `gu' ending (archaic)">
<!ENTITY v2s-s "Nidan verb (lower class) with `su' ending (archaic)">
<!ENTITY v2z-s "Nidan verb (lower class) with `zu' ending (archaic)">
<!ENTITY v2t-s "Nidan verb (lower class) with `tsu' ending (archaic)">
<!ENTITY v2d-s "Nidan verb (lower class) with `dzu' ending (archaic)">
<!ENTITY v2n-s "Nidan verb (lower class) with `nu' ending (archaic)">
<!ENTITY v2h-s "Nidan verb (lower class) with `hu/fu' ending (archaic)">
<!ENTITY v2b-s "Nidan verb (lower class) with `bu' ending (archaic)">
<!ENTITY v2m-s "Nidan verb (lower class) with `mu' ending (archaic)">
<!ENTITY v2y-s "Nidan verb (lower class) with `yu' ending (archaic)">
<!ENTITY v2r-s "Nidan verb (lower class) with `ru' ending (archaic)">
<!ENTITY v2w-s "Nidan verb (lower class) with `u' ending and `we' conjugation (archaic)">
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As we can see, this is quite complex. Instead of parsing every single verb type and differentiating between it, we will focus on four verb types only:</p>
<ul>
<li>Ichidan </li>
<li>Nidan</li>
<li>Yodan</li>
<li>Godan</li>
</ul>
<p>As a side note, the Ichidan verbs are the <em>ru</em> verbs Tae Kim is talking about, while the Godan verbs are the <em>u</em> verbs.</p>
<p>Below, we're looping over the dictionary items and extracting words that possibly contain verbs. To do this, we're checking for the presence of either of the four above verb types.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">tree</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">ElementTree</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s">&#39;../JMdict.xml&#39;</span><span class="p">)</span>
<span class="n">tree</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[11]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>&lt;ElementTree at 0x3d63bf0&gt;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[19]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">verb_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">verb_types</span> <span class="o">=</span> <span class="p">[</span><span class="s">u&#39;Ichidan&#39;</span><span class="p">,</span> <span class="s">u&#39;Nidan&#39;</span><span class="p">,</span> <span class="s">u&#39;Yodan&#39;</span><span class="p">,</span> <span class="s">u&#39;Godan&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">tree</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">&#39;entry&#39;</span><span class="p">):</span>
    <span class="n">item_info</span> <span class="o">=</span> <span class="n">extract_information</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">verb_type</span> <span class="ow">in</span> <span class="n">verb_types</span><span class="p">:</span>
        <span class="k">if</span> <span class="s">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">item_info</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">verb_type</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">verb_list</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">item_info</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">verb_type</span><span class="p">))</span>
                <span class="k">break</span>
                
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[20]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="nb">len</span><span class="p">(</span><span class="n">verb_list</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[20]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>10266</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[21]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">verb_list</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[21]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>[(u&apos;\u3042\u3052\u3064\u3089\u3046&apos;, u&apos;Godan&apos;),
 (u&apos;\u3042\u3057\u3089\u3046&apos;, u&apos;Godan&apos;),
 (u&apos;\u3042\u3076\u308c\u308b&apos;, u&apos;Ichidan&apos;),
 (u&apos;\u3042\u3084\u3059&apos;, u&apos;Godan&apos;),
 (u&apos;\u3044\u304b\u3059&apos;, u&apos;Godan&apos;),
 (u&apos;\u3044\u3058\u3051\u308b&apos;, u&apos;Ichidan&apos;),
 (u&apos;\u3044\u3058\u308a\u307e\u308f\u3059&apos;, u&apos;Godan&apos;),
 (u&apos;\u3044\u3061\u3083\u3064\u304f&apos;, u&apos;Godan&apos;),
 (u&apos;\u3044\u306a\u306a\u304f&apos;, u&apos;Godan&apos;),
 (u&apos;\u3044\u3073\u308b&apos;, u&apos;Godan&apos;)]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As the unicode is a bit hard to read, we can format the previous output to the following effect:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[23]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="nb">map</span><span class="p">(</span><span class="s">&quot;: &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">,</span> <span class="n">verb_list</span><span class="p">[:</span><span class="mi">10</span><span class="p">]):</span>
    <span class="nb">print</span> <span class="n">elem</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>あげつらう: Godan
あしらう: Godan
あぶれる: Ichidan
あやす: Godan
いかす: Godan
いじける: Ichidan
いじりまわす: Godan
いちゃつく: Godan
いななく: Godan
いびる: Godan
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="First-statistical-breakdown">First statistical breakdown<a class="anchor-link" href="#First-statistical-breakdown">&#182;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As we now have a list of verb types, we can calculate their relative frequency:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[38]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">for</span> <span class="n">verb_type</span> <span class="ow">in</span> <span class="n">verb_types</span><span class="p">:</span>
    <span class="nb">print</span> <span class="s">&quot;%s: %i out of %i verbs&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">verb_type</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">verb_type</span><span class="p">,</span> <span class="n">verb_list</span><span class="p">)),</span> <span class="nb">len</span><span class="p">(</span><span class="n">verb_list</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Ichidan: 3415 out of 10266 verbs
Nidan: 38 out of 10266 verbs
Yodan: 25 out of 10266 verbs
Godan: 6788 out of 10266 verbs
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[257]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">for</span> <span class="n">verb_type</span> <span class="ow">in</span> <span class="n">verb_types</span><span class="p">:</span>
    <span class="nb">print</span> <span class="s">&quot;%s: %.1f percent&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">verb_type</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">verb_type</span><span class="p">,</span> <span class="n">verb_list</span><span class="p">))</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">verb_list</span><span class="p">))</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Ichidan: 33.3 percent
Nidan: 0.4 percent
Yodan: 0.2 percent
Godan: 66.1 percent
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>According to this output, there's a majority of <em>u</em> verbs in the Japanese language.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Verb-types-by-last-character">Verb types by last character<a class="anchor-link" href="#Verb-types-by-last-character">&#182;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Following Tae Kim's data,we're going to count number of verbs of a given type by classifying them according to their last character:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[40]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">last_char_dict</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">verb</span> <span class="ow">in</span> <span class="n">verb_list</span><span class="p">:</span>
    <span class="n">last_char</span> <span class="o">=</span> <span class="n">verb</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> 
    <span class="k">if</span> <span class="n">last_char</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">last_char_dict</span><span class="p">:</span>
        <span class="n">last_char_dict</span><span class="p">[</span><span class="n">last_char</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="n">verb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">verb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="n">last_char_dict</span><span class="p">[</span><span class="n">last_char</span><span class="p">]:</span>
            <span class="n">last_char_dict</span><span class="p">[</span><span class="n">last_char</span><span class="p">][</span><span class="n">verb</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">last_char_dict</span><span class="p">[</span><span class="n">last_char</span><span class="p">][</span><span class="n">verb</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">=</span> <span class="mi">1</span>
        
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[41]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">last_char_dict</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[41]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>{u&apos;\u3046&apos;: {u&apos;Godan&apos;: 719, u&apos;Nidan&apos;: 6, u&apos;Yodan&apos;: 4},
 u&apos;\u304f&apos;: {u&apos;Godan&apos;: 911, u&apos;Nidan&apos;: 2, u&apos;Yodan&apos;: 4},
 u&apos;\u3050&apos;: {u&apos;Godan&apos;: 137, u&apos;Nidan&apos;: 2},
 u&apos;\u3059&apos;: {u&apos;Godan&apos;: 1803, u&apos;Nidan&apos;: 1, u&apos;Yodan&apos;: 3},
 u&apos;\u305a&apos;: {u&apos;Ichidan&apos;: 1, u&apos;Nidan&apos;: 2},
 u&apos;\u3064&apos;: {u&apos;Godan&apos;: 244, u&apos;Nidan&apos;: 2, u&apos;Yodan&apos;: 1},
 u&apos;\u306c&apos;: {u&apos;Godan&apos;: 9, u&apos;Nidan&apos;: 2},
 u&apos;\u3075&apos;: {u&apos;Nidan&apos;: 1},
 u&apos;\u3076&apos;: {u&apos;Godan&apos;: 102, u&apos;Nidan&apos;: 2, u&apos;Yodan&apos;: 2},
 u&apos;\u3080&apos;: {u&apos;Godan&apos;: 596, u&apos;Nidan&apos;: 4},
 u&apos;\u3086&apos;: {u&apos;Nidan&apos;: 7},
 u&apos;\u308b&apos;: {u&apos;Godan&apos;: 2267, u&apos;Ichidan&apos;: 3414, u&apos;Nidan&apos;: 7, u&apos;Yodan&apos;: 11}}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[53]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="s">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="s">&quot;: &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">str</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">]))),</span> <span class="n">last_char_dict</span><span class="p">[</span><span class="n">last_char_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">()[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">items</span><span class="p">()))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[53]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>u&apos;Nidan: 4, Godan: 596&apos;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[54]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">last_char_dict</span><span class="p">:</span>
    <span class="nb">print</span> <span class="s">&quot;verbs ending in %s&quot;</span> <span class="o">%</span> <span class="n">key</span><span class="p">,</span> <span class="s">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="s">&quot;: &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">str</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">]))),</span> <span class="n">last_char_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>verbs ending in む Nidan: 4, Godan: 596
verbs ending in つ Yodan: 1, Nidan: 2, Godan: 244
verbs ending in う Yodan: 4, Nidan: 6, Godan: 719
verbs ending in る Yodan: 11, Nidan: 7, Ichidan: 3414, Godan: 2267
verbs ending in ゆ Nidan: 7
verbs ending in ぬ Nidan: 2, Godan: 9
verbs ending in く Yodan: 4, Nidan: 2, Godan: 911
verbs ending in ぐ Nidan: 2, Godan: 137
verbs ending in ふ Nidan: 1
verbs ending in ぶ Yodan: 2, Nidan: 2, Godan: 102
verbs ending in す Yodan: 3, Nidan: 1, Godan: 1803
verbs ending in ず Nidan: 2, Ichidan: 1
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As we can see from the output the first idea given by Tae Kim seems correct: if it doesn't end in <em>ru</em> it's a Godan verb (except for one ず Ichidan verb). Let's check the second idea:</p>
<blockquote><p>if it ends in <em>ru</em>, the second before last hiragana mostly determines the verb type</p>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[57]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">second_last_char_dict</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">verb</span> <span class="ow">in</span> <span class="n">verb_list</span><span class="p">:</span>
    <span class="n">last_char</span> <span class="o">=</span> <span class="n">verb</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> 
    <span class="k">if</span> <span class="n">last_char</span> <span class="o">==</span> <span class="s">u&#39;る&#39;</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">verb</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">second_last_char</span> <span class="o">=</span> <span class="n">verb</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> 
        <span class="k">if</span> <span class="n">second_last_char</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">second_last_char_dict</span><span class="p">:</span>
            <span class="n">second_last_char_dict</span><span class="p">[</span><span class="n">second_last_char</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="n">verb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">verb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="n">second_last_char_dict</span><span class="p">[</span><span class="n">second_last_char</span><span class="p">]:</span>
                <span class="n">second_last_char_dict</span><span class="p">[</span><span class="n">second_last_char</span><span class="p">][</span><span class="n">verb</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">second_last_char_dict</span><span class="p">[</span><span class="n">second_last_char</span><span class="p">][</span><span class="n">verb</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[58]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">second_last_char_dict</span><span class="p">:</span>
    <span class="nb">print</span> <span class="n">key</span><span class="p">,</span> <span class="n">second_last_char_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>ゃ {u&apos;Yodan&apos;: 2, u&apos;Godan&apos;: 5}
わ {u&apos;Godan&apos;: 130}
ェ {u&apos;Godan&apos;: 1}
カ {u&apos;Godan&apos;: 1}
ク {u&apos;Godan&apos;: 5}
コ {u&apos;Godan&apos;: 4}
シ {u&apos;Godan&apos;: 3}
い {u&apos;Ichidan&apos;: 32, u&apos;Godan&apos;: 76}
え {u&apos;Yodan&apos;: 1, u&apos;Ichidan&apos;: 398, u&apos;Godan&apos;: 41}
ニ {u&apos;Godan&apos;: 3}
が {u&apos;Nidan&apos;: 1, u&apos;Godan&apos;: 162}
ぐ {u&apos;Godan&apos;: 25}
ビ {u&apos;Godan&apos;: 1}
ご {u&apos;Nidan&apos;: 1, u&apos;Godan&apos;: 3}
じ {u&apos;Ichidan&apos;: 104, u&apos;Godan&apos;: 21}
ぜ {u&apos;Ichidan&apos;: 11}
ミ {u&apos;Godan&apos;: 1}
だ {u&apos;Nidan&apos;: 1, u&apos;Godan&apos;: 18}
ャ {u&apos;Godan&apos;: 1}
つ {u&apos;Godan&apos;: 34}
ョ {u&apos;Godan&apos;: 1}
と {u&apos;Godan&apos;: 161}
ぬ {u&apos;Godan&apos;: 6}
ば {u&apos;Godan&apos;: 45}
へ {u&apos;Ichidan&apos;: 3, u&apos;Godan&apos;: 5}
ぼ {u&apos;Godan&apos;: 32}
む {u&apos;Godan&apos;: 13}
や {u&apos;Godan&apos;: 28}
よ {u&apos;Godan&apos;: 36}
れ {u&apos;Ichidan&apos;: 548, u&apos;Godan&apos;: 1}
グ {u&apos;Godan&apos;: 5}
ジ {u&apos;Godan&apos;: 2}
ツ {u&apos;Godan&apos;: 1}
ト {u&apos;Godan&apos;: 2}
か {u&apos;Yodan&apos;: 2, u&apos;Godan&apos;: 149}
く {u&apos;Godan&apos;: 69}
バ {u&apos;Godan&apos;: 2}
こ {u&apos;Godan&apos;: 35}
ピ {u&apos;Godan&apos;: 2}
し {u&apos;Ichidan&apos;: 1, u&apos;Godan&apos;: 37}
せ {u&apos;Ichidan&apos;: 297, u&apos;Godan&apos;: 9}
ボ {u&apos;Godan&apos;: 2}
た {u&apos;Godan&apos;: 72}
ム {u&apos;Godan&apos;: 2}
で {u&apos;Ichidan&apos;: 79, u&apos;Godan&apos;: 1}
に {u&apos;Ichidan&apos;: 3}
レ {u&apos;Ichidan&apos;: 2}
は {u&apos;Yodan&apos;: 1, u&apos;Godan&apos;: 44}
び {u&apos;Ichidan&apos;: 40, u&apos;Godan&apos;: 7}
ほ {u&apos;Godan&apos;: 6}
み {u&apos;Ichidan&apos;: 61}
め {u&apos;Ichidan&apos;: 470, u&apos;Godan&apos;: 7}
ら {u&apos;Ichidan&apos;: 1}
キ {u&apos;Godan&apos;: 2}
ケ {u&apos;Godan&apos;: 1}
ス {u&apos;Godan&apos;: 4}
チ {u&apos;Godan&apos;: 2}
あ {u&apos;Yodan&apos;: 1, u&apos;Godan&apos;: 28}
う {u&apos;Godan&apos;: 13}
ド {u&apos;Godan&apos;: 1}
お {u&apos;Godan&apos;: 45}
ぎ {u&apos;Ichidan&apos;: 29, u&apos;Godan&apos;: 40}
パ {u&apos;Godan&apos;: 1}
げ {u&apos;Ichidan&apos;: 251, u&apos;Godan&apos;: 5}
フ {u&apos;Godan&apos;: 2}
ざ {u&apos;Yodan&apos;: 2, u&apos;Godan&apos;: 11}
ず {u&apos;Ichidan&apos;: 79, u&apos;Godan&apos;: 21}
ぞ {u&apos;Godan&apos;: 3}
メ {u&apos;Ichidan&apos;: 1}
て {u&apos;Ichidan&apos;: 185, u&apos;Godan&apos;: 3}
な {u&apos;Nidan&apos;: 2, u&apos;Godan&apos;: 147}
ロ {u&apos;Godan&apos;: 3}
の {u&apos;Godan&apos;: 31}
ひ {u&apos;Ichidan&apos;: 3, u&apos;Godan&apos;: 4}
ぶ {u&apos;Nidan&apos;: 1, u&apos;Godan&apos;: 70}
ま {u&apos;Yodan&apos;: 2, u&apos;Godan&apos;: 147}
も {u&apos;Godan&apos;: 43}
ゆ {u&apos;Godan&apos;: 1}
り {u&apos;Ichidan&apos;: 24, u&apos;Godan&apos;: 2}
ズ {u&apos;Godan&apos;: 1}
テ {u&apos;Godan&apos;: 2}
ナ {u&apos;Godan&apos;: 1}
き {u&apos;Ichidan&apos;: 30, u&apos;Godan&apos;: 108}
け {u&apos;Ichidan&apos;: 630, u&apos;Godan&apos;: 22}
さ {u&apos;Godan&apos;: 58}
ブ {u&apos;Godan&apos;: 6}
す {u&apos;Godan&apos;: 16}
そ {u&apos;Nidan&apos;: 1, u&apos;Godan&apos;: 10}
ち {u&apos;Ichidan&apos;: 38, u&apos;Godan&apos;: 9}
モ {u&apos;Godan&apos;: 3}
づ {u&apos;Godan&apos;: 2}
ど {u&apos;Godan&apos;: 35}
ね {u&apos;Ichidan&apos;: 61, u&apos;Godan&apos;: 15}
ぱ {u&apos;Godan&apos;: 5}
ふ {u&apos;Godan&apos;: 18}
べ {u&apos;Ichidan&apos;: 33, u&apos;Godan&apos;: 9}
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This still needs a little sorting!</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[248]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">def</span> <span class="nf">vowel_type</span><span class="p">(</span><span class="n">character</span><span class="p">):</span>
    <span class="n">vowels</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;i&#39;</span><span class="p">,</span> <span class="s">&#39;u&#39;</span><span class="p">,</span> <span class="s">&#39;e&#39;</span><span class="p">,</span> <span class="s">&#39;o&#39;</span><span class="p">]</span>
    <span class="n">chars</span> <span class="o">=</span> <span class="p">[</span><span class="s">u&#39;あかさたなはまやらわゃカがだャばバパざナぱ&#39;</span><span class="p">,</span> 
             <span class="s">u&#39;シいニビじミジピしにびみキチぎひりきち&#39;</span><span class="p">,</span>
             <span class="s">u&#39;クぐつぬむグツくムスうフずぶゆズブすづふ&#39;</span><span class="p">,</span>
             <span class="s">u&#39;べェえぜへれせでレめケげメてテけね&#39;</span><span class="p">,</span>
             <span class="s">u&#39;コごョとぼよトこボほドおぞロのもそモど&#39;</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">ind</span><span class="p">,</span> <span class="n">hiragana</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">chars</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">character</span> <span class="ow">in</span> <span class="n">hiragana</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">vowels</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span>
    <span class="nb">print</span> <span class="n">character</span>
    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s">&#39;character not supported&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[250]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">final_classification</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">second_last_char_dict</span><span class="p">:</span>
    <span class="n">vowel</span> <span class="o">=</span> <span class="n">vowel_type</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">vowel</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">final_classification</span><span class="p">:</span>
        <span class="n">final_classification</span><span class="p">[</span><span class="n">vowel</span><span class="p">]</span> <span class="o">=</span> <span class="n">second_last_char_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">verb_group</span> <span class="ow">in</span> <span class="n">second_last_char_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">verb_group</span> <span class="ow">in</span> <span class="n">final_classification</span><span class="p">[</span><span class="n">vowel</span><span class="p">]:</span>
                <span class="n">final_classification</span><span class="p">[</span><span class="n">vowel</span><span class="p">][</span><span class="n">verb_group</span><span class="p">]</span> <span class="o">+=</span> <span class="n">second_last_char_dict</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="n">verb_group</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">final_classification</span><span class="p">[</span><span class="n">vowel</span><span class="p">][</span><span class="n">verb_group</span><span class="p">]</span> <span class="o">=</span> <span class="n">second_last_char_dict</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="n">verb_group</span><span class="p">]</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[251]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">final_classification</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[251]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>{&apos;a&apos;: {u&apos;Godan&apos;: 1055, u&apos;Ichidan&apos;: 1, u&apos;Nidan&apos;: 4, u&apos;Yodan&apos;: 10},
 &apos;e&apos;: {u&apos;Godan&apos;: 122, u&apos;Ichidan&apos;: 2969, u&apos;Yodan&apos;: 1},
 &apos;i&apos;: {u&apos;Godan&apos;: 320, u&apos;Ichidan&apos;: 365},
 &apos;o&apos;: {u&apos;Godan&apos;: 456, u&apos;Nidan&apos;: 2},
 &apos;u&apos;: {u&apos;Godan&apos;: 314, u&apos;Ichidan&apos;: 79, u&apos;Nidan&apos;: 1}}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[255]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">final_classification</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
    <span class="nb">print</span> <span class="s">&#39;vowel sound ending in %s&#39;</span> <span class="o">%</span> <span class="n">key</span>
    <span class="nb">print</span> <span class="s">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="s">&quot;: &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">str</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">]))),</span> <span class="n">final_classification</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()))</span>    
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>vowel sound ending in a
Yodan: 10, Nidan: 4, Ichidan: 1, Godan: 1055
vowel sound ending in u
Nidan: 1, Ichidan: 79, Godan: 314
vowel sound ending in e
Yodan: 1, Ichidan: 2969, Godan: 122
vowel sound ending in i
Ichidan: 365, Godan: 320
vowel sound ending in o
Nidan: 2, Godan: 456
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[263]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">final_classification</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
    <span class="nb">print</span> <span class="s">&#39;vowel sound ending in %s&#39;</span> <span class="o">%</span> <span class="n">key</span>
    <span class="n">total</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="n">i</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">final_classification</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()))</span>
    <span class="nb">print</span> <span class="s">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="s">&quot;: &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">format</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="n">total</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span><span class="p">,</span> <span class="s">&quot;.2f&quot;</span><span class="p">))),</span> <span class="n">final_classification</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>vowel sound ending in a
Yodan: 0.93, Nidan: 0.37, Ichidan: 0.09, Godan: 98.60
vowel sound ending in u
Nidan: 0.25, Ichidan: 20.05, Godan: 79.70
vowel sound ending in e
Yodan: 0.03, Ichidan: 96.02, Godan: 3.95
vowel sound ending in i
Ichidan: 53.28, Godan: 46.72
vowel sound ending in o
Nidan: 0.44, Godan: 99.56
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Concluding-remarks">Concluding remarks<a class="anchor-link" href="#Concluding-remarks">&#182;</a></h1><h2 id="High-certainty">High certainty<a class="anchor-link" href="#High-certainty">&#182;</a></h2><ul>
<li>if vowel sound is o, it's a <em>u</em> verb in 100% of cases</li>
<li>if vowel sound is a, it's a <em>u</em> verb in 99% of cases</li>
<li>if vowel sound is e, it's a <em>ru</em> verb in 96% of cases</li>
</ul>
<h2 id="Lower-certainty">Lower certainty<a class="anchor-link" href="#Lower-certainty">&#182;</a></h2><ul>
<li>if vowel sound is u, it's a <em>u</em> verb in 80% of cases and a <em>ru</em> verb in 20% of cases</li>
<li>if vowel sound is i, it's <em>ru</em> verb in 53% of cases and <em>u</em> verb in 47% of cases</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Side-note">Side note<a class="anchor-link" href="#Side-note">&#182;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The more I'm computing this sort of thing, the more I'm thinking I could do this in an easier way with Pandas.</p>

</div>
</div>
</div></p></div>
    <footer>
<p class="meta">
  <span class="byline author vcard">
    Posted by <span class="fn">
        Florian Le Bourdais
    </span>
  </span>
<time datetime="2013-11-23T00:15:00+01:00" pubdate>Sat, 23 Nov 2013</time>  <span class="categories">
    <a class='category' href='http://flothesof.github.io/category/python.html'>Python</a>
  </span>
  <span class="categories">
    <a class="category" href="http://flothesof.github.io/tag/japanese.html">Japanese</a>  </span>
</p><div class="sharing">
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://flothesof.github.io/verb-endings-Japanese.html" data-via="frolianlb" data-counturl="http://flothesof.github.io/verb-endings-Japanese.html" >Tweet</a>
</div>    </footer>
  </article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div>
  </section>
</div>
<aside class="sidebar">
  <section>
    <h1>Recent Posts</h1>
    <ul id="recent_posts">
      <li class="post">
          <a href="http://flothesof.github.io/kaggle-whats-cooking-machine-learning.html">The Kaggle What's Cooking challenge</a>
      </li>
      <li class="post">
          <a href="http://flothesof.github.io/age-moyen-deputes-francais.html">L'âge moyen des députés français</a>
      </li>
      <li class="post">
          <a href="http://flothesof.github.io/algorithme-du-radoteur.html">L'algorithme du radoteur</a>
      </li>
      <li class="post">
          <a href="http://flothesof.github.io/autodeploy-with-Travis.html">Autodeploying this blog with Travis</a>
      </li>
      <li class="post">
          <a href="http://flothesof.github.io/FFT-window-properties-frequency-analysis.html">On the use of windows in digital signal processing</a>
      </li>
    </ul>
  </section>
  <section>
      
    <h1>Categories</h1>
    <ul id="recent_posts">
        <li><a href="http://flothesof.github.io/category/python.html">Python</a></li>
    </ul>
  </section>
 

  <section>
  <h1>Tags</h1>
    <a href="http://flothesof.github.io/tag/geography.html">Geography</a>,    <a href="http://flothesof.github.io/tag/france.html">France</a>,    <a href="http://flothesof.github.io/tag/digital-signal-processing.html">Digital Signal Processing</a>,    <a href="http://flothesof.github.io/tag/travis-ci.html">Travis-CI</a>,    <a href="http://flothesof.github.io/tag/statistics.html">Statistics</a>,    <a href="http://flothesof.github.io/tag/game-boy.html">Game Boy</a>,    <a href="http://flothesof.github.io/tag/windows-7.html">Windows 7</a>,    <a href="http://flothesof.github.io/tag/language.html">Language</a>,    <a href="http://flothesof.github.io/tag/waves.html">Waves</a>,    <a href="http://flothesof.github.io/tag/pyqt.html">PyQt</a>,    <a href="http://flothesof.github.io/tag/coursera.html">Coursera</a>,    <a href="http://flothesof.github.io/tag/physics.html">Physics</a>,    <a href="http://flothesof.github.io/tag/sound.html">Sound</a>,    <a href="http://flothesof.github.io/tag/gravity.html">Gravity</a>,    <a href="http://flothesof.github.io/tag/buildings.html">Buildings</a>,    <a href="http://flothesof.github.io/tag/opencv.html">OpenCV</a>,    <a href="http://flothesof.github.io/tag/music.html">Music</a>,    <a href="http://flothesof.github.io/tag/french.html">French</a>,    <a href="http://flothesof.github.io/tag/democratie.html">Démocratie</a>,    <a href="http://flothesof.github.io/tag/pelican.html">Pelican</a>,    <a href="http://flothesof.github.io/tag/anaconda.html">Anaconda</a>,    <a href="http://flothesof.github.io/tag/xkcd.html">XKCD</a>,    <a href="http://flothesof.github.io/tag/japanese.html">Japanese</a>,    <a href="http://flothesof.github.io/tag/mathematics.html">Mathematics</a>,    <a href="http://flothesof.github.io/tag/gaming.html">Gaming</a>,    <a href="http://flothesof.github.io/tag/machine-learning.html">Machine Learning</a>,    <a href="http://flothesof.github.io/tag/japan.html">Japan</a>,    <a href="http://flothesof.github.io/tag/real-life.html">Real life</a>,    <a href="http://flothesof.github.io/tag/languages.html">Languages</a>,    <a href="http://flothesof.github.io/tag/animations.html">Animations</a>,    <a href="http://flothesof.github.io/tag/mac-os-x.html">Mac OS X</a>,    <a href="http://flothesof.github.io/tag/fractals.html">Fractals</a>,    <a href="http://flothesof.github.io/tag/math.html">Math</a>,    <a href="http://flothesof.github.io/tag/kaggle.html">Kaggle</a>,    <a href="http://flothesof.github.io/tag/clothes.html">Clothes</a>,    <a href="http://flothesof.github.io/tag/bricks.html">Bricks</a>,    <a href="http://flothesof.github.io/tag/3d-printing.html">3D Printing</a>,    <a href="http://flothesof.github.io/tag/gambling.html">Gambling</a>,    <a href="http://flothesof.github.io/tag/ipython-notebook.html">IPython Notebook</a>  </section>



  <section>
    <h1>GitHub Repos</h1>
    <ul id="gh_repos">
      <li class="loading">Status updating...</li>
    </ul>
      <a href="https://github.com/flothesof">@flothesof</a> on GitHub
    <script type="text/javascript">
      $.domReady(function(){
          if (!window.jXHR){
              var jxhr = document.createElement('script');
              jxhr.type = 'text/javascript';
              jxhr.src = 'http://flothesof.github.io/theme/js/jXHR.js';
              var s = document.getElementsByTagName('script')[0];
              s.parentNode.insertBefore(jxhr, s);
          }

          github.showRepos({
              user: 'flothesof',
              count: 5,
              skip_forks: true,
              target: '#gh_repos'
          });
      });
    </script>
    <script src="http://flothesof.github.io/theme/js/github.js" type="text/javascript"> </script>
  </section>


<section>
    <a href="http://twitter.com/frolianlb" class="twitter-follow-button" data-show-count="true">Follow @frolianlb</a>
</section>
</aside>    </div>
  </div>
  <footer role="contentinfo"><p>
    Copyright &copy;  2013&ndash;2016  Florian Le Bourdais &mdash;
  <span class="credit">Powered by <a href="http://getpelican.com">Pelican</a></span>
</p></footer>
  <script src="http://flothesof.github.io/theme/js/modernizr-2.0.js"></script>
  <script src="http://flothesof.github.io/theme/js/ender.js"></script>
  <script src="http://flothesof.github.io/theme/js/octopress.js" type="text/javascript"></script>
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-68753870-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-68753870-1');
    ga('send', 'pageview');
</script>
  <script type="text/javascript">
    var disqus_shortname = 'froliansblog';
    var disqus_identifier = '/verb-endings-Japanese.html';
    var disqus_url = 'http://flothesof.github.io/verb-endings-Japanese.html';
    var disqus_title = 'Analyzing verb endings in the Japanese language';
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = "//" + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
     })();
  </script>
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>
</body>
</html>